<SkillDefinitions xmlns:xs="http://www.w3.org/2001/XMLSchema-instance"

                  xs:noNamespaceSchemaLocation="SkillDefinitions.xsd">



   <SkillDefinition Id="JumpOverWall2" IsContextual="true" TemplateId="JumpOverWall" IsLockedByPerk="true">

      <OverrideLocalizationId>JumpOverWall2</OverrideLocalizationId>

      <ValidTargets>

         <EnemyUnits/>

         <BuildingsList Id="JumpOverWallBuildingList"/>

         <UncrossableGrounds/>

      </ValidTargets>

      <MovePointsCost>2</MovePointsCost>

      <Range Min="1" Max="2" CardinalDirectionOnly="true"/>

   </SkillDefinition>



   <SkillDefinition Id="FinishHim" IsContextual="true" IsLockedByPerk="true">

      <ValidTargets>

         <EnemyUnits/>

      </ValidTargets>

      <!--<DisplayDuringPhases>

         <Night/>

      </DisplayDuringPhases>-->

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

      <ContextualConditions>

         <MaxTargetHealthLeft>30 + Max(0, PhysicalDamage-100)</MaxTargetHealthLeft>

      </ContextualConditions>

      <Range Min="1" Max="2" CardinalDirectionOnly="true"/>

      <SkillAction>

         <Generic>

            <SkillEffects>

               <Kill/>

            </SkillEffects>

         </Generic>

      </SkillAction>

      <CastFXs TotalDuration="0.2">

         <SoundEffect>

            <Path>00_Others/Punch/SFX_Skill_Punch</Path>

            <Delay>0</Delay>

         </SoundEffect>

         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.2</Delay>

         </CamShake>

      </CastFXs>

   </SkillDefinition>



   <SkillDefinition Id="Cheer" IsContextual="true" IsLockedByPerk="true">

      <ValidTargets>

         <PlayableUnits/>

      </ValidTargets>

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <Range Min="1" Max="15"/>

      <SkillAction>

         <Generic>

            <SkillEffects>

               <IgnoreLineOfSight/>

               <Buff>

                  <BaseChance>1</BaseChance>

                  <CanAffectPlayableUnits>true</CanAffectPlayableUnits>

                  <CanAffectEnemyUnits>false</CanAffectEnemyUnits>

                  <Stat Id="OverallDamage"/>

                  <Bonus>15</Bonus>

                  <TurnsCount>2</TurnsCount>

               </Buff>

            </SkillEffects>

         </Generic>

      </SkillAction>



      <CastFXs TotalDuration="0.5">

         <VisualEffect>

            <Paths>

               <Path>00_Others/SelfBuff_CasterBefore</Path>

            </Paths>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         <SoundEffect>

            <Path>00_Others/LightDefend/SFX_Skill_Armor_LightDefend</Path>

            <Delay>0</Delay>

         </SoundEffect>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.4</Delay>

         </CamShake>



         <CasterAnim>

            <Path>Hero_CastSkill_Others_HelpBuilding_</Path>

            <Delay>0</Delay>

         </CasterAnim>

      </CastFXs>

   </SkillDefinition>



   <SkillDefinition Id="Spot" IsContextual="true" IsLockedByPerk="true">

      <ValidTargets>

         <EnemyUnits/>

      </ValidTargets>

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

      <UsesPerTurnCount>2</UsesPerTurnCount>

      <Range Min="1" Max="9" Modifiable="true"/>

      <SkillAction>

         <Generic>

            <SkillEffects>

               <Debuff>

                  <BaseChance>1</BaseChance>

                  <CanAffectPlayableUnits>false</CanAffectPlayableUnits>

                  <CanAffectEnemyUnits>true</CanAffectEnemyUnits>

                  <Stat Id="Dodge"/>

                  <Malus>20</Malus>

                  <TurnsCount>1</TurnsCount>

               </Debuff>

            </SkillEffects>

         </Generic>

      </SkillAction>



      <CastFXs TotalDuration="0.5">

         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Mark/Spot_TargetNSEW</Path>

            </Paths>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.5</Delay>

         </CamShake>



         <CasterAnim>

            <Path>Hero_CastSkill_Others_HelpBuilding_</Path>

            <Delay>0</Delay>

         </CasterAnim>



         <SoundEffect>

            <Path>00_Others/Spot/SFX_Skill_Spot</Path>

            <Delay>0</Delay>

         </SoundEffect>

      </CastFXs>

   </SkillDefinition>



   <SkillDefinition Id="Contamine" IsContextual="true" IsLockedByPerk="true">

      <ValidTargets>

         <EnemyUnits/>

      </ValidTargets>

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

      <UsesPerTurnCount>2</UsesPerTurnCount>

      <Range Min="1" Max="9" Modifiable="true"/>

      <SkillAction>

         <Generic>

            <SkillEffects>

               <Contagion>

                  <BaseChance>1</BaseChance>

                  <TurnsCount>2</TurnsCount>

               </Contagion>

            </SkillEffects>

         </Generic>

      </SkillAction>



      <CastFXs TotalDuration="0.5">

         <VisualEffect>

            <Paths>

               <Path Orientation="SEWN">MagicOrb/PutridBall/PutridBall_TargetBeforeS</Path>

            </Paths>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.5</Delay>

         </CamShake>



         <CasterAnim>

            <Path>Hero_CastSkill_Others_HelpBuilding_</Path>

            <Delay>0</Delay>

         </CasterAnim>



         <SoundEffect>

            <Path>MagicOrb/PutridBall/SFX_Skill_MagicOrb_PutridBall2</Path>

            <Delay>0</Delay>

         </SoundEffect>

      </CastFXs>     

      

   </SkillDefinition>



   <SkillDefinition Id="Blink" IsContextual="true" IsLockedByPerk="true">

      <ManaCost>3</ManaCost>

      <UsesPerTurnCount>2</UsesPerTurnCount>

      <Range Min="1" Max="6" CardinalDirectionOnly="false"/>

      <AreaOfEffect OriginX="0" OriginY="0">

         M

      </AreaOfEffect>

      <SkillAction>

         <Generic>

            <SkillEffects>

               <IgnoreLineOfSight/>

               <Maneuver/>

               <NoMomentum/>

            </SkillEffects>

         </Generic>

      </SkillAction>



      <CastFXs TotalDuration="2">

         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Blink/Blink_Caster_Before</Path>

            </Paths>

            <Delay>0</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>CastFxSourceTile</Target>

         </VisualEffect>



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Blink/Blink_Caster_Behind</Path>

            </Paths>

            <SortingDepth>Behind</SortingDepth>

            <Target>CastFxSourceTile</Target>

         </VisualEffect>



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Blink/Blink_Target_Before</Path>

            </Paths>

            <Delay>1.5</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>AoeOrigin</Target>

         </VisualEffect>



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Blink/Blink_Target_Behind</Path>

            </Paths>

            <Delay>1.62</Delay>

            <SortingDepth>Behind</SortingDepth>

            <Target>AoeOrigin</Target>

         </VisualEffect>



         <SoundEffect>

            <Path>WarpCrystal/Teleportation/SFX_Skill_WarpCrystal_Teleportation1</Path>

            <Delay>0</Delay>

         </SoundEffect>



         <SoundEffect>

            <Path>WarpCrystal/Teleportation/SFX_Skill_WarpCrystal_Teleportation2</Path>

            <Delay>1.62</Delay>

         </SoundEffect>



         <ManeuverFx>

            <Speed>10000</Speed>

            <Delay>0.69</Delay>

         </ManeuverFx>



         <CasterAnim>

            <Path>Hero_CastSkill_Teleportation_</Path>

            <Delay>0.69</Delay>

         </CasterAnim>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.69</Delay>

         </CamShake>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>2</Delay>

         </CamShake>

      </CastFXs>

   </SkillDefinition>



   <SkillDefinition Id="Sprint" IsContextual="true" IsLockedByPerk="true">

      <ValidTargets>

         <PlayableUnits/>

      </ValidTargets>

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

      <HealthCost>10</HealthCost>

      <UsesPerTurnCount>2</UsesPerTurnCount>

      <Range Min="0" Max="0"/>

      <SkillAction>

         <Generic>

            <SkillEffects>

               <CasterEffect>

                  <RegenStat>

                     <CanAffectCaster>true</CanAffectCaster>

                     <Stat Id="MovePoints"/>

                     <Bonus>3</Bonus>

                  </RegenStat>

               </CasterEffect>

            </SkillEffects>

         </Generic>

      </SkillAction>



      <CastFXs TotalDuration="1">

         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Sprint/Sprint</Path>

            </Paths>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



		<VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Restoration/Restoration</Path>

            </Paths>

            <Delay>0.6</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         <SoundEffect>

            <Path>00_Others/SFX_Skill_Bonus</Path>

            <Delay>0.7</Delay>

         </SoundEffect>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.35</Delay>

         </CamShake>



         <CasterAnim>

            <Path>Hero_CastSkill_Others_HelpBuilding_</Path>

            <Delay>0.6</Delay>

         </CasterAnim>

      </CastFXs>

	  

   </SkillDefinition>

   

   <SkillDefinition Id="HumanBallistaPerkSkill">

      <ValidTargets>

         <EnemyUnits/>

      </ValidTargets>

      <UsesPerTurnCount>2</UsesPerTurnCount>

      <Range Min="2" Max="6" Modifiable="true"/>

      <AreaOfEffect OriginX="0" OriginY="0">
         e
         X

      </AreaOfEffect>

      <SkillAction>

         <Attack>

            <BaseDamage Min="135" Max="188"/>

            <AttackType>Adaptative</AttackType>

            <DamageMultiplier>1</DamageMultiplier>

            <SkillEffects>

               <ArmorPiercing/>

               <!-- <IgnoreLineOfSight/> -->

               <!-- <NoDodge/> -->
               <SurroundingEffect>

                  <Damage Multiplier="0.5"/>

               </SurroundingEffect>

            </SkillEffects>

         </Attack>

      </SkillAction>

      <CastFXs TotalDuration="0.9">

         <VisualEffect>

            <Paths>

               <Path Orientation="S">Crossbow/StraightShot/StraightShot_Caster_S</Path>

               <Path Orientation="N">Crossbow/StraightShot/StraightShot_Caster_N</Path>

               <Path Orientation="W">Crossbow/StraightShot/StraightShot_Caster_W</Path>

               <Path Orientation="E">Crossbow/StraightShot/StraightShot_Caster_E</Path>

            </Paths>

            <SortingDepth>Before</SortingDepth>

            <Target>Caster</Target>

         </VisualEffect>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.7</Delay>

         </CamShake>



         <VisualEffect>

            <Paths>

               <Path Orientation="S">Crossbow/StraightShot/StraightShot_Target_S</Path>

               <Path Orientation="N">Crossbow/StraightShot/StraightShot_Target_N</Path>

               <Path Orientation="W">Crossbow/StraightShot/StraightShot_Target_W</Path>

               <Path Orientation="E">Crossbow/StraightShot/StraightShot_Target_E</Path>

            </Paths>

            <Delay>0.9</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         <SoundEffect>

            <Path>Crossbow/StraightShot/SFX_Skill_Crossbow_StraightShot</Path>

            <Delay>0</Delay>

         </SoundEffect>



         <CamShake>

            <Id>Hard Hit-CamShake</Id>

            <Delay>0.9</Delay>

         </CamShake>



      </CastFXs>

   </SkillDefinition>



   <SkillDefinition Id="ResupplyCata" IsContextual="true" IsLockedByPerk="true">

      <ValidTargets>

         <BuildingsList Id="HandledDefenses" NeedRepair="true"/>

      </ValidTargets>

      <AffectedUnits>

         <CanAffectBuildings>true</CanAffectBuildings>

         <CanAffectEnemyUnits>false</CanAffectEnemyUnits>

         <CanAffectPlayableUnits>false</CanAffectPlayableUnits>

         <CanAffectCaster>false</CanAffectCaster>

      </AffectedUnits>

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

      <UsesPerTurnCount>2</UsesPerTurnCount>

      <Range Min="1" Max="6"/>

      <SkillAction>

         <Resupply>

            <SkillEffects>

               <ResupplyOverallUses>

                  <Targets>

                     <TargetsListId Value="HandledDefenses"/>

                  </Targets>

                  <Amount>1</Amount>

               </ResupplyOverallUses>

               <IgnoreLineOfSight/>

            </SkillEffects>

         </Resupply>

      </SkillAction>



      <CastFXs TotalDuration="1.1">

        



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Resupply/Resupply_TargetBefore</Path>

            </Paths>

            <Delay>0.31</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>AoeOrigin</Target>

         </VisualEffect>



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Buff_Resupply/Buff_Resupply</Path>

            </Paths>

            <Delay>1.1</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         <SoundEffect>

            <Path>MagicWand/Transfer/SFX_Skill_MagicWand_Transfer</Path>

            <Delay>0</Delay>

         </SoundEffect>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>1.1</Delay>

         </CamShake>



         <CasterAnim>

            <Path>Hero_CastSkill_Entangle_Cast_</Path>

            <Delay>0</Delay>

         </CasterAnim>

      </CastFXs>



   </SkillDefinition>



   <SkillDefinition Id="ResupplyTraps" IsContextual="true" IsLockedByPerk="true">

      <!--<InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>-->

      <AffectedUnits>

         <CanAffectBuildings>true</CanAffectBuildings>

         <CanAffectEnemyUnits>false</CanAffectEnemyUnits>

         <CanAffectPlayableUnits>false</CanAffectPlayableUnits>

         <CanAffectCaster>false</CanAffectCaster>

      </AffectedUnits>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <Range Min="1" Max="6"/>

      <AreaOfEffect OriginX="1" OriginY="1">

         XXX

         XXX

         XXX

      </AreaOfEffect>

      <SkillAction>

         <Resupply>

            <SkillEffects>

               <ResupplyCharges>

                  <Targets>

                     <TargetsListId Value="Traps"/>

                  </Targets>

                  <Amount>1</Amount>

               </ResupplyCharges>

               <IgnoreLineOfSight/>

            </SkillEffects>

         </Resupply>

      </SkillAction>



      <CastFXs TotalDuration="1.5">

         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Resupply/Resupply_TargetBehind</Path>

            </Paths>

            <Delay>0.31</Delay>

            <SortingDepth>Behind</SortingDepth>

            <Target>AoeOrigin</Target>

         </VisualEffect>



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Resupply/Resupply_TargetBefore</Path>

            </Paths>

            <Delay>0.31</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>AoeOrigin</Target>

         </VisualEffect>



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Buff_Resupply/Buff_Resupply</Path>

            </Paths>

            <Delay>Random(1.3, 1.5)</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         <SoundEffect>

            <Path>MagicWand/Transfer/SFX_Skill_MagicWand_Transfer</Path>

            <Delay>0</Delay>

         </SoundEffect>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>1.3</Delay>

         </CamShake>



         <CasterAnim>

            <Path>Hero_CastSkill_Entangle_Cast_</Path>

            <Delay>0</Delay>

         </CasterAnim>

      </CastFXs>

	  

   </SkillDefinition>



   <SkillDefinition Id="QuickReload" IsContextual="true" IsLockedByPerk="true">

      <ValidTargets>

         <PlayableUnits/>

      </ValidTargets>

      <AffectedUnits>

         <CanAffectBuildings>false</CanAffectBuildings>

      </AffectedUnits>

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <Range Min="0" Max="0"/>

      <SkillAction>

         <Resupply>

            <SkillEffects>

               <ResupplySkills>

                  <Amount>1</Amount>

               </ResupplySkills>

            </SkillEffects>

         </Resupply>

      </SkillAction>



      <CastFXs TotalDuration="1.1">

        



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Resupply/Resupply_TargetBefore</Path>

            </Paths>

            <Delay>0.31</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>AoeOrigin</Target>

         </VisualEffect>



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">00_Others/Buff_Resupply/Buff_Resupply</Path>

            </Paths>

            <Delay>1.1</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         <SoundEffect>

            <Path>MagicWand/Transfer/SFX_Skill_MagicWand_Transfer</Path>

            <Delay>0</Delay>

         </SoundEffect>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>1.1</Delay>

         </CamShake>



         <CasterAnim>

            <Path>Hero_CastSkill_Entangle_Cast_</Path>

            <Delay>0</Delay>

         </CasterAnim>

      </CastFXs>

   </SkillDefinition>



   <SkillDefinition Id="SpikySkinPerkSkill">

      <InfiniteRange/>

      <SkillAction>

         <Attack>

            <BaseDamage Min="50 + Floor(Block * 3)" Max="50 + Floor(Block * 3)"/> <!-- 300% of hero's block -->

            <AttackType>Physical</AttackType>

            <DamageMultiplier>1</DamageMultiplier>

         </Attack>

      </SkillAction>

      <CastFXs TotalDuration="0.2">

         <SoundEffect>

            <Path>00_Others/Punch/SFX_Skill_Punch</Path>

            <Delay>0</Delay>

         </SoundEffect>

         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.2</Delay>

         </CamShake>

      </CastFXs>

   </SkillDefinition>



   <SkillDefinition Id="MartialPunch">

      <ActionPointsCost>1</ActionPointsCost>

      <Range Min="1" Max="1" CardinalDirectionOnly="true" Modifiable="false"/>

      <SkillAction>

         <Attack>

            <BaseDamage Min="80 + GetPerkModuleBuffer('MartialPunch', 1, 2) * 1" Max="100 + GetPerkModuleBuffer('MartialPunch', 1, 2) * 1"/>

            <AttackType>Physical</AttackType>

            <DamageMultiplier>1</DamageMultiplier>

            <SkillEffects>

               <Debuff>

                  <BaseChance>1</BaseChance>

                  <CanAffectEnemyUnits>true</CanAffectEnemyUnits>

                  <Malus>3</Malus>

                  <Stat Id="MovePointsTotal"/>

                  <TurnsCount>2</TurnsCount>

               </Debuff>

            </SkillEffects>

         </Attack>

      </SkillAction>



      <CastFXs TotalDuration="0.2">

         <SoundEffect>

            <Path>00_Others/Punch/SFX_Skill_Punch</Path>

            <Delay>0</Delay>

         </SoundEffect>

         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.2</Delay>

         </CamShake>

      </CastFXs>

   </SkillDefinition>   

   

   

   <!--

   ///////////////////////////

      MANUAL CONTROL SKILLS

   ///////////////////////////-->

   

   <SkillDefinition Id="ManualControlCatapult" IsContextual="true" IsLockedByPerk="true" TemplateId="UseCatapult">

      <OverrideLocalizationId>ManualControlCatapult</OverrideLocalizationId>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ActionPointsCost>2</ActionPointsCost>

      <ContextualConditions>

         <NextToBuilding>Catapult</NextToBuilding>

      </ContextualConditions>

      <Range Min="5" Max="14" Modifiable="true"/>

   </SkillDefinition>

   

   <SkillDefinition Id="ManualControlBallista" IsContextual="true" IsLockedByPerk="true" TemplateId="BallistaSkill">

      <OverrideLocalizationId>ManualControlBallista</OverrideLocalizationId>

      <ValidTargets EverythingValid="true"/>

      <AffectedUnits>

         <CanAffectPlayableUnits>false</CanAffectPlayableUnits>

         <CanAffectCaster>false</CanAffectCaster>

      </AffectedUnits>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>Ballista</NextToBuilding>

      </ContextualConditions>

      <Range Min="1" Max="8" Modifiable="true"/>

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

   </SkillDefinition>



   <SkillDefinition Id="ManualControlBallistaTower" IsContextual="true" IsLockedByPerk="true" TemplateId="BallistaTowerSkill">

      <OverrideLocalizationId>ManualControlBallista</OverrideLocalizationId>

      <ValidTargets EverythingValid="true"/>

      <AffectedUnits>

         <CanAffectPlayableUnits>false</CanAffectPlayableUnits>

         <CanAffectCaster>false</CanAffectCaster>

      </AffectedUnits>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>BallistaTower</NextToBuilding>

      </ContextualConditions>

      <Range Min="1" Max="8" Modifiable="true"/>

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

   </SkillDefinition>



   <SkillDefinition Id="ManualControlStunTrap" IsContextual="true" IsLockedByPerk="true" TemplateId="StunTrapTriggered">

      <OverrideLocalizationId>ManualControlStunTrap</OverrideLocalizationId>

      <ValidTargets EverythingValid="true"/>

      <AffectedUnits>

         <CanAffectBuildings>false</CanAffectBuildings>

         <CanAffectCaster>false</CanAffectCaster>

         <CanAffectPlayableUnits>false</CanAffectPlayableUnits>

      </AffectedUnits>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>StunTrap</NextToBuilding>

      </ContextualConditions>

      <Range Min="1" Max="5"/>

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

   </SkillDefinition>



   <SkillDefinition Id="ManualControlSlowTrap" IsContextual="true" IsLockedByPerk="true" TemplateId="SlowTrapTriggered">

      <OverrideLocalizationId>ManualControlSlowTrap</OverrideLocalizationId>

      <ValidTargets EverythingValid="true"/>

      <AffectedUnits>

         <CanAffectBuildings>false</CanAffectBuildings>

         <CanAffectCaster>false</CanAffectCaster>

         <CanAffectPlayableUnits>false</CanAffectPlayableUnits>

      </AffectedUnits>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>SlowTrap</NextToBuilding>

      </ContextualConditions>

      <Range Min="1" Max="5"/>

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

   </SkillDefinition>

   

   <SkillDefinition Id="ManualControlDamageTrap" IsContextual="true" IsLockedByPerk="true" TemplateId="DamageTrapTriggered">

      <OverrideLocalizationId>ManualControlDamageTrap</OverrideLocalizationId>

      <ValidTargets EverythingValid="true"/>

      <AffectedUnits>

         <CanAffectCaster>false</CanAffectCaster>

         <CanAffectPlayableUnits>false</CanAffectPlayableUnits>

      </AffectedUnits>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>DamageTrap</NextToBuilding>

      </ContextualConditions>

      <Range Min="1" Max="5"/>

      <InvalidCastDisplayBehaviour>DisplayedUnavailable</InvalidCastDisplayBehaviour>

   </SkillDefinition>



   <SkillDefinition Id="ManualControlPoisonSeed" IsContextual="true" IsLockedByPerk="true" TemplateId="PoisonSeedSkill">

      <OverrideLocalizationId>ManualControlPoisonSeed</OverrideLocalizationId>

      <ValidTargets EverythingValid="true"/>

      <AffectedUnits>

         <CanAffectBuildings>false</CanAffectBuildings>

         <CanAffectCaster>false</CanAffectCaster>

         <CanAffectPlayableUnits>false</CanAffectPlayableUnits>

      </AffectedUnits>

      <ActionPointsCost>1</ActionPointsCost>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>PoisonSeed</NextToBuilding>

      </ContextualConditions>

   </SkillDefinition>



   <SkillDefinition Id="ManualControlIsolationSeed" IsContextual="true" IsLockedByPerk="true" TemplateId="IsolationSeedSkill">

      <OverrideLocalizationId>ManualControlIsolationSeed</OverrideLocalizationId>

      <ValidTargets EverythingValid="true"/>

      <AffectedUnits>

         <CanAffectPlayableUnits>false</CanAffectPlayableUnits>

         <CanAffectCaster>false</CanAffectCaster>

      </AffectedUnits>

      <ActionPointsCost>1</ActionPointsCost>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>IsolationSeed</NextToBuilding>

      </ContextualConditions>

   </SkillDefinition>



   <SkillDefinition Id="ManualControlPurgingSeed" IsContextual="true" IsLockedByPerk="true" TemplateId="PurgingSeedSkill">

      <OverrideLocalizationId>ManualControlPurgingSeed</OverrideLocalizationId>

      <ValidTargets EverythingValid="true"/>

      <AffectedUnits>

         <CanAffectBuildings>false</CanAffectBuildings>

         <CanAffectCaster>false</CanAffectCaster>

         <CanAffectPlayableUnits>false</CanAffectPlayableUnits>

      </AffectedUnits>

      <ActionPointsCost>1</ActionPointsCost>

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>PurgingSeed</NextToBuilding>

      </ContextualConditions>

   </SkillDefinition>



   <!--<SkillDefinition Id="ManualControlBallista" IsContextual="true" IsLockedByPerk="true">

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>Ballista</NextToBuilding>

      </ContextualConditions>

      <Range Min="1" Max="8" Modifiable="true"/>

      <SkillAction>

         <Attack>

            <BaseDamage Min="120" Max="140"/>

            <AttackType>Ranged</AttackType>

            <DamageMultiplier>1</DamageMultiplier>

            <SkillEffects>

               <NoDodge/>

            </SkillEffects>

         </Attack>

      </SkillAction>

      <CastFXs TotalDuration="0.9">

         <VisualEffect>

            <Paths>

               <Path Orientation="S">Crossbow/StraightShot/StraightShot_Caster_S</Path>

               <Path Orientation="N">Crossbow/StraightShot/StraightShot_Caster_N</Path>

               <Path Orientation="W">Crossbow/StraightShot/StraightShot_Caster_W</Path>

               <Path Orientation="E">Crossbow/StraightShot/StraightShot_Caster_E</Path>

            </Paths>

            <SortingDepth>Before</SortingDepth>

            <Target>Caster</Target>

         </VisualEffect>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.7</Delay>

         </CamShake>



         <VisualEffect>

            <Paths>

               <Path Orientation="S">Crossbow/StraightShot/StraightShot_Target_S</Path>

               <Path Orientation="N">Crossbow/StraightShot/StraightShot_Target_N</Path>

               <Path Orientation="W">Crossbow/StraightShot/StraightShot_Target_W</Path>

               <Path Orientation="E">Crossbow/StraightShot/StraightShot_Target_E</Path>

            </Paths>

            <Delay>0.9</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         <CamShake>

            <Id>Hard Hit-CamShake</Id>

            <Delay>0.9</Delay>

         </CamShake>



      </CastFXs>

   </SkillDefinition>



   <SkillDefinition Id="ManualControlBallistaTower" IsContextual="true" IsLockedByPerk="true">

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>BallistaTower</NextToBuilding>

      </ContextualConditions>

      <Range Min="1" Max="8" Modifiable="true"/>

      <SkillAction>

         <Attack>

            <BaseDamage Min="140" Max="170"/>

            <AttackType>Ranged</AttackType>

            <DamageMultiplier>1</DamageMultiplier>

            <SkillEffects>

               <IgnoreLineOfSight/>

               <NoDodge/>

            </SkillEffects>

         </Attack>

      </SkillAction>

      <CastFXs TotalDuration="0.9">

         <VisualEffect>

            <Paths>

               <Path Orientation="S">Crossbow/StraightShot/StraightShot_Caster_S</Path>

               <Path Orientation="N">Crossbow/StraightShot/StraightShot_Caster_N</Path>

               <Path Orientation="W">Crossbow/StraightShot/StraightShot_Caster_W</Path>

               <Path Orientation="E">Crossbow/StraightShot/StraightShot_Caster_E</Path>

            </Paths>

            <SortingDepth>Before</SortingDepth>

            <Target>Caster</Target>

         </VisualEffect>



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.7</Delay>

         </CamShake>



         <VisualEffect>

            <Paths>

               <Path Orientation="S">Crossbow/StraightShot/StraightShot_Target_S</Path>

               <Path Orientation="N">Crossbow/StraightShot/StraightShot_Target_N</Path>

               <Path Orientation="W">Crossbow/StraightShot/StraightShot_Target_W</Path>

               <Path Orientation="E">Crossbow/StraightShot/StraightShot_Target_E</Path>

            </Paths>

            <Delay>0.9</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         <CamShake>

            <Id>Hard Hit-CamShake</Id>

            <Delay>0.9</Delay>

         </CamShake>



      </CastFXs>

   </SkillDefinition>



   <SkillDefinition Id="ManualControlStunTrap" IsContextual="true" IsLockedByPerk="true">

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>StunTrap</NextToBuilding>

      </ContextualConditions>

      <Range Min="1" Max="5"/>

      <AreaOfEffect OriginX="0" OriginY="0">

         X

      </AreaOfEffect>

      <SkillAction>

         <Attack>

            <BaseDamage Min="20" Max="30"></BaseDamage>

            <AttackType>Magical</AttackType>

            <DamageMultiplier>1</DamageMultiplier>

            <SkillEffects>

               <Stun>

                  <BaseChance>1</BaseChance>

               </Stun>

               <NoDodge/>

            </SkillEffects>

         </Attack>

      </SkillAction>



      <CastFXs TotalDuration="0.5">

         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">Traps/StunTrap/StunTrap_TargetFrontNSEW</Path>

            </Paths>

            <Delay>0</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">Traps/StunTrap/StunTrap_TargetBehindNSEW</Path>

            </Paths>

            <Delay>0</Delay>

            <SortingDepth>Behind</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         --><!--<SoundEffect>

            <Path>HandCrossbow/Blaze/SFX_Skill_HandCrossbow_Blaze</Path>

            <Delay>0</Delay>

         </SoundEffect>--><!--



      </CastFXs>

   </SkillDefinition>



   <SkillDefinition Id="ManualControlSlowTrap" IsContextual="true" IsLockedByPerk="true">

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>SlowTrap</NextToBuilding>

      </ContextualConditions>

      <Range Min="1" Max="5"/>

      <AreaOfEffect OriginX="0" OriginY="0">

         X

      </AreaOfEffect>

      <SkillAction>

         <Attack>

            <BaseDamage Min="40" Max="60"></BaseDamage>

            <AttackType>Magical</AttackType>

            <DamageMultiplier>1</DamageMultiplier>

            <SkillEffects>

               <Debuff>

                  <Stat Id="MovePointsTotal"/>

                  <Malus>2</Malus>

                  <TurnsCount>2</TurnsCount>

               </Debuff>

               <NoDodge/>

            </SkillEffects>

         </Attack>

      </SkillAction>



      <CastFXs TotalDuration="0.5">

         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">Traps/SlowTrap/SlowTrap_BehindNSEW</Path>

            </Paths>

            <Delay>0</Delay>

            <SortingDepth>Behind</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



         --><!--<SoundEffect>

            <Path>Longbow/ExplosiveArrow/SFX_Skill_Longbow_ExplosiveArrow2</Path>

            <Delay>0</Delay>

         </SoundEffect>--><!--



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">Traps/SlowTrap/SlowTrap_FrontNSEW</Path>

            </Paths>

            <Delay>0</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>HitTiles</Target>

         </VisualEffect>



      </CastFXs>

   </SkillDefinition>



   <SkillDefinition Id="ManualControlDamageTrap" IsContextual="true" IsLockedByPerk="true">

      <UsesPerTurnCount>1</UsesPerTurnCount>

      <ContextualConditions>

         <NextToBuilding>DamageTrap</NextToBuilding>

      </ContextualConditions>

      <Range Min="1" Max="5"/>

      <AreaOfEffect OriginX="1" OriginY="1">

         XXX

         XXX

         XXX

      </AreaOfEffect>

      <SkillAction>

         <Attack>

            <BaseDamage Min="80" Max="130"></BaseDamage>

            <AttackType>Magical</AttackType>

            <DamageMultiplier>1</DamageMultiplier>

            <SkillEffects>

               <NoDodge/>

            </SkillEffects>

         </Attack>

      </SkillAction>



      <CastFXs TotalDuration="0.5">

         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">Traps/DamageTrap/DamageTrap_TargetBehindNSEW</Path>

            </Paths>

            <Delay>0</Delay>

            <SortingDepth>Behind</SortingDepth>

            <Target>AoeOrigin</Target>

         </VisualEffect>



         <VisualEffect>

            <Paths>

               <Path Orientation="NSEW">Traps/DamageTrap/DamageTrap_TargetFrontNSEW</Path>

            </Paths>

            <Delay>0</Delay>

            <SortingDepth>Before</SortingDepth>

            <Target>AoeOrigin</Target>

         </VisualEffect>



         --><!--<SoundEffect>

            <Path>2HAxe/SuperSpin/SFX_Skill_2HAxe_SuperSpin</Path>

            <Delay>0</Delay>

         </SoundEffect>--><!--



         <CamShake>

            <Id>Soft Hit-CamShake</Id>

            <Delay>0.4</Delay>

         </CamShake>

      </CastFXs>

   </SkillDefinition>-->







</SkillDefinitions>